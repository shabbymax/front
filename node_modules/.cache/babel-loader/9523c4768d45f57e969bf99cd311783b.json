{"ast":null,"code":"import _asyncToGenerator from\"/home/fusion/workspace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/fusion/workspace/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/fusion/workspace/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import{toast}from'react-toastify';import bookApi from'../../../api/bookApi';import BooksRender from'../../components/Book';import CommonWrapper from'../../components/CommonWrapper.styles';import FavoritesWrapper from'./Favorites.styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favorites=function Favorites(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return bookApi.getFavorite();case 3:response=_context.sent;setBooks(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error('Sorry, favorites is not available now',{autoClose:3000});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}))();},[setBooks]);var changeBookList=function changeBookList(id){var updatedList=books.filter(function(book){return book.bookId!==id;});setBooks(updatedList);};return/*#__PURE__*/_jsx(CommonWrapper,{children:/*#__PURE__*/_jsxs(FavoritesWrapper,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"favorites__title\",children:\"Favorites\"}),books&&/*#__PURE__*/_jsx(BooksRender,{booksArray:books,wrap:\"wrap\",handleFavorites:changeBookList})]})});};export default Favorites;","map":{"version":3,"names":["React","useEffect","useState","toast","bookApi","BooksRender","CommonWrapper","FavoritesWrapper","Favorites","books","setBooks","getFavorite","response","data","error","autoClose","changeBookList","id","updatedList","filter","book","bookId"],"sources":["/home/fusion/workspace/frontend/src/ui/pages/favorites/Favorites.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport bookApi from '../../../api/bookApi';\nimport { BooksArray } from '../../../types';\n\nimport BooksRender from '../../components/Book';\nimport CommonWrapper from '../../components/CommonWrapper.styles';\nimport FavoritesWrapper from './Favorites.styles';\n\nconst Favorites = () => {\n  const [books, setBooks] = useState<BooksArray>([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await bookApi.getFavorite();\n        setBooks(response.data);\n      } catch (err) {\n        toast.error('Sorry, favorites is not available now', { autoClose: 3000 });\n      }\n    })();\n  }, [setBooks]);\n\n  const changeBookList = (id: number) => {\n    const updatedList = books.filter((book) => {\n      return book.bookId !== id;\n    });\n    setBooks(updatedList);\n  };\n\n  return (\n    <CommonWrapper>\n      <FavoritesWrapper>\n        <h1 className=\"favorites__title\">Favorites</h1>\n        {books && (\n          <BooksRender\n            booksArray={books}\n            wrap=\"wrap\"\n            handleFavorites={changeBookList}\n          />\n        )}\n      </FavoritesWrapper>\n    </CommonWrapper>\n  );\n};\n\nexport default Favorites;\n"],"mappings":"kWAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,MAAOC,QAAP,KAAoB,sBAApB,CAGA,MAAOC,YAAP,KAAwB,uBAAxB,CACA,MAAOC,cAAP,KAA0B,uCAA1B,CACA,MAAOC,iBAAP,KAA6B,oBAA7B,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,cAA0BN,QAAQ,CAAa,EAAb,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEAT,SAAS,CAAC,UAAM,CACd,wDAAC,sLAE0BG,QAAO,CAACO,WAAR,EAF1B,QAESC,QAFT,eAGGF,QAAQ,CAACE,QAAQ,CAACC,IAAV,CAAR,CAHH,+EAKGV,KAAK,CAACW,KAAN,CAAY,uCAAZ,CAAqD,CAAEC,SAAS,CAAE,IAAb,CAArD,EALH,oEAAD,KAQD,CATQ,CASN,CAACL,QAAD,CATM,CAAT,CAWA,GAAMM,eAAc,CAAG,QAAjBA,eAAiB,CAACC,EAAD,CAAgB,CACrC,GAAMC,YAAW,CAAGT,KAAK,CAACU,MAAN,CAAa,SAACC,IAAD,CAAU,CACzC,MAAOA,KAAI,CAACC,MAAL,GAAgBJ,EAAvB,CACD,CAFmB,CAApB,CAGAP,QAAQ,CAACQ,WAAD,CAAR,CACD,CALD,CAOA,mBACE,KAAC,aAAD,wBACE,MAAC,gBAAD,yBACE,WAAI,SAAS,CAAC,kBAAd,uBADF,CAEGT,KAAK,eACJ,KAAC,WAAD,EACE,UAAU,CAAEA,KADd,CAEE,IAAI,CAAC,MAFP,CAGE,eAAe,CAAEO,cAHnB,EAHJ,GADF,EADF,CAcD,CAnCD,CAqCA,cAAeR,UAAf"},"metadata":{},"sourceType":"module"}