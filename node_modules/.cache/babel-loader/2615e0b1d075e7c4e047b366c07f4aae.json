{"ast":null,"code":"import _asyncToGenerator from\"/home/fusion/workspace/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/fusion/workspace/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/fusion/workspace/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import{useAppDispatch,useAppSelector}from'../../../../store';import{getAllBooksThunk}from'../../../../store/bookThunk';import{getAllGenres}from'../../../../store/genreThunk';import useQuery from'../../../../utils/useQuery';import BooksRender from'../../../components/Book';import Loader from'../../../components/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var BooksList=function BooksList(){var books=useAppSelector(function(state){return state.bookReducer.books;});var dispatch=useAppDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useQuery=useQuery(),_useQuery2=_slicedToArray(_useQuery,1),parsedParams=_useQuery2[0];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(getAllGenres());case 2:_context.next=4;return dispatch(getAllBooksThunk({options:parsedParams}));case 4:setIsLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}))();},[dispatch,parsedParams]);return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(BooksRender,{wrap:\"wrap\",booksArray:books})});};export default BooksList;","map":{"version":3,"names":["React","useEffect","useState","useAppDispatch","useAppSelector","getAllBooksThunk","getAllGenres","useQuery","BooksRender","Loader","BooksList","books","state","bookReducer","dispatch","isLoading","setIsLoading","parsedParams","options"],"sources":["/home/fusion/workspace/frontend/src/ui/pages/home/components/BooksList.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { useAppDispatch, useAppSelector } from '../../../../store';\nimport { getAllBooksThunk } from '../../../../store/bookThunk';\nimport { getAllGenres } from '../../../../store/genreThunk';\n\nimport { QuerySearchOptions } from '../../../../types';\nimport useQuery from '../../../../utils/useQuery';\n\nimport BooksRender from '../../../components/Book';\nimport Loader from '../../../components/Loader';\n\nconst BooksList = () => {\n  const books = useAppSelector((state) => state.bookReducer.books);\n  const dispatch = useAppDispatch();\n  const [isLoading, setIsLoading] = useState(true);\n  const [parsedParams] = useQuery<QuerySearchOptions>();\n\n  useEffect(() => {\n    (async () => {\n      await dispatch(getAllGenres());\n      await dispatch(getAllBooksThunk({ options: parsedParams }));\n      setIsLoading(false);\n    })();\n  }, [dispatch, parsedParams]);\n\n  return (\n    <>\n      {\n        isLoading\n          ? <Loader />\n          : <BooksRender\n            wrap=\"wrap\"\n            booksArray={books}\n          />\n      }\n    </>\n\n  );\n};\n\nexport default BooksList;\n"],"mappings":"kWAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,mBAA/C,CACA,OAASC,gBAAT,KAAiC,6BAAjC,CACA,OAASC,YAAT,KAA6B,8BAA7B,CAGA,MAAOC,SAAP,KAAqB,4BAArB,CAEA,MAAOC,YAAP,KAAwB,0BAAxB,CACA,MAAOC,OAAP,KAAmB,4BAAnB,C,gGAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,GAAMC,MAAK,CAAGP,cAAc,CAAC,SAACQ,KAAD,QAAWA,MAAK,CAACC,WAAN,CAAkBF,KAA7B,EAAD,CAA5B,CACA,GAAMG,SAAQ,CAAGX,cAAc,EAA/B,CACA,cAAkCD,QAAQ,CAAC,IAAD,CAA1C,wCAAOa,SAAP,eAAkBC,YAAlB,eACA,cAAuBT,QAAQ,EAA/B,wCAAOU,YAAP,eAEAhB,SAAS,CAAC,UAAM,CACd,wDAAC,yJACOa,SAAQ,CAACR,YAAY,EAAb,CADf,8BAEOQ,SAAQ,CAACT,gBAAgB,CAAC,CAAEa,OAAO,CAAED,YAAX,CAAD,CAAjB,CAFf,QAGCD,YAAY,CAAC,KAAD,CAAZ,CAHD,sDAAD,KAKD,CANQ,CAMN,CAACF,QAAD,CAAWG,YAAX,CANM,CAAT,CAQA,mBACE,yBAEIF,SAAS,cACL,KAAC,MAAD,IADK,cAEL,KAAC,WAAD,EACA,IAAI,CAAC,MADL,CAEA,UAAU,CAAEJ,KAFZ,EAJR,EADF,CAaD,CA3BD,CA6BA,cAAeD,UAAf"},"metadata":{},"sourceType":"module"}