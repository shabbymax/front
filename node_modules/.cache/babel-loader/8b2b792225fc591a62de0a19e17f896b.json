{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import{getAllBooksThunk,getRecommendations}from'./bookThunk';import constants from'../constants';export var initialState={books:[],pages:0,searchResult:[],recommended:[]};export var bookReducer=createSlice({initialState:initialState,name:'books',reducers:{},extraReducers:function extraReducers(builder){builder.addCase(getAllBooksThunk.fulfilled,function(state,action){state.books=action.payload.books;state.pages=Math.ceil(action.payload.totalCount/constants.booksQuantityPerPage);});builder.addCase(getAllBooksThunk.rejected,function(state){state.books=[];state.pages=1;});builder.addCase(getRecommendations.fulfilled,function(state,action){state.recommended=action.payload;});builder.addCase(getRecommendations.rejected,function(state){state.recommended=[];});}});export default bookReducer.reducer;","map":{"version":3,"names":["createSlice","getAllBooksThunk","getRecommendations","constants","initialState","books","pages","searchResult","recommended","bookReducer","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","Math","ceil","totalCount","booksQuantityPerPage","rejected","reducer"],"sources":["/home/fusion/workspace/frontend/src/store/bookReducer.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { getAllBooksThunk, getRecommendations } from './bookThunk';\n\nimport constants from '../constants';\nimport { BookType } from '../types';\n\nexport const initialState = {\n  books: [] as BookType[],\n  pages: 0,\n  searchResult: [] as BookType[],\n  recommended: [] as BookType[],\n};\n\nexport const bookReducer = createSlice({\n  initialState,\n  name: 'books',\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getAllBooksThunk.fulfilled,\n      (state, action) => {\n        state.books = action.payload.books;\n        state.pages = Math.ceil(action.payload.totalCount / constants.booksQuantityPerPage);\n      });\n    builder.addCase(getAllBooksThunk.rejected, (state) => {\n      state.books = [];\n      state.pages = 1;\n    });\n    builder.addCase(getRecommendations.fulfilled, (state, action: PayloadAction<BookType[]>) => {\n      state.recommended = action.payload;\n    });\n    builder.addCase(getRecommendations.rejected, (state) => {\n      state.recommended = [];\n    });\n  },\n});\n\nexport default bookReducer.reducer;\n"],"mappings":"AAAA,OAASA,WAAT,KAA2C,kBAA3C,CAEA,OAASC,gBAAT,CAA2BC,kBAA3B,KAAqD,aAArD,CAEA,MAAOC,UAAP,KAAsB,cAAtB,CAGA,MAAO,IAAMC,aAAY,CAAG,CAC1BC,KAAK,CAAE,EADmB,CAE1BC,KAAK,CAAE,CAFmB,CAG1BC,YAAY,CAAE,EAHY,CAI1BC,WAAW,CAAE,EAJa,CAArB,CAOP,MAAO,IAAMC,YAAW,CAAGT,WAAW,CAAC,CACrCI,YAAY,CAAZA,YADqC,CAErCM,IAAI,CAAE,OAF+B,CAGrCC,QAAQ,CAAE,EAH2B,CAIrCC,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CAACC,OAAR,CAAgBb,gBAAgB,CAACc,SAAjC,CACE,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACjBD,KAAK,CAACX,KAAN,CAAcY,MAAM,CAACC,OAAP,CAAeb,KAA7B,CACAW,KAAK,CAACV,KAAN,CAAca,IAAI,CAACC,IAAL,CAAUH,MAAM,CAACC,OAAP,CAAeG,UAAf,CAA4BlB,SAAS,CAACmB,oBAAhD,CAAd,CACD,CAJH,EAKAT,OAAO,CAACC,OAAR,CAAgBb,gBAAgB,CAACsB,QAAjC,CAA2C,SAACP,KAAD,CAAW,CACpDA,KAAK,CAACX,KAAN,CAAc,EAAd,CACAW,KAAK,CAACV,KAAN,CAAc,CAAd,CACD,CAHD,EAIAO,OAAO,CAACC,OAAR,CAAgBZ,kBAAkB,CAACa,SAAnC,CAA8C,SAACC,KAAD,CAAQC,MAAR,CAA8C,CAC1FD,KAAK,CAACR,WAAN,CAAoBS,MAAM,CAACC,OAA3B,CACD,CAFD,EAGAL,OAAO,CAACC,OAAR,CAAgBZ,kBAAkB,CAACqB,QAAnC,CAA6C,SAACP,KAAD,CAAW,CACtDA,KAAK,CAACR,WAAN,CAAoB,EAApB,CACD,CAFD,EAGD,CApBoC,CAAD,CAA/B,CAuBP,cAAeC,YAAW,CAACe,OAA3B"},"metadata":{},"sourceType":"module"}